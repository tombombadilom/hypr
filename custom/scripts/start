#!/bin/bash

# Function to retrieve the window ID for an application
# Replace the implementation with one that works for Hyprland
get_window_id() {
    # Implementation goes here; the method will depend on Hyprland
    echo "Placeholder for window ID"
}

# Define your workspace and application arrays here (as an example)
declare -a workspace_mapping=(
    '1 foot'
    '2 brave'
    '3 evolution'
    '4 android-messages element-desktop whatsapp-for-linux telegram-desktop'
    '5 code-oss brave'
    '5 foot'
    '6 thunar QMPlay2'
    '7 deluge'
)

# Adjustable wait time in seconds (modify this value)
wait_time=5

# Move to the first workspace to avoid opening everything in the same workspace
hyprctl workspace 1

# Launch applications and place them in the right workspace
for entry in "${workspace_mapping[@]}"; do
    # Split the entry into workspace and app
    read -r workspace app <<< "$entry"

    # Wait before launching the application
    sleep "$wait_time"

    # Launch the application in the background
    $app &

    # Capture the process ID of the last started background process
    pid=$!
    
    # Wait for the application to open and get the window ID 
    sleep 1
    window_id=$(get_window_id "$app")

    # Use the window ID to move the window to the specified workspace
    # The exact command will differ based on your setup and available tools
    # Example: hyprctl move window-to-workspace or similar
    hyprctl send "$window_id" "$workspace"
  
    # It may be necessary to add a small delay here if the window manager needs more time
    sleep 1
done
